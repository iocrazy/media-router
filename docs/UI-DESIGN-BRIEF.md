# MediaHub UI 设计需求文档

> 版本: v1.3.0 | 更新日期: 2026-02-22
> 本文档用于提供给 UI 设计师/平台，描述项目现状、页面结构和设计需求。

---

## 一、项目简介

**MediaHub** 是一个多平台社交媒体内容管理和发布系统。用户可以绑定抖音、快手、小红书等平台账号，统一管理内容发布、查看数据分析。

**目标用户**: 自媒体创作者、电商运营、MCN 机构
**平台**: 移动端优先 (375px)，兼容桌面端
**语言**: 中文

---

## 二、技术约束

| 项目 | 技术 |
|------|------|
| 前端框架 | React 19 + TypeScript |
| 样式方案 | Tailwind CSS 4.0 |
| 路由 | React Router v7 |
| 后端 | FastAPI (Python) |
| 数据库/认证 | Supabase (PostgreSQL + Auth) |
| 移动端 | Capacitor (Android WebView 包装) |

**设计交付格式偏好**: Figma / 标注稿 + 切图 (SVG icon)

---

## 三、导航结构

### 移动端 (主要)
```
┌─────────────────────────────┐
│  MediaHub              退出  │  ← 顶部导航栏
├─────────────────────────────┤
│                             │
│        页面内容区域          │
│                             │
├─────────────────────────────┤
│  账号  视频  ＋发布  数据  记录 │  ← 底部 Tab 栏 (5个)
└─────────────────────────────┘
```

### 页面清单

| Tab | 页面 | 路由 | 状态 | 说明 |
|-----|------|------|------|------|
| 账号 | 账号管理 | `/accounts` | ✅ 功能完成 | 绑定/管理社交账号 |
| 视频 | 视频管理 | `/videos` | 🟡 Mock 数据 | 查看已发布视频列表和数据 |
| ＋ | 发布 | `/publish` | ✅ 功能完成 | 发布视频/图文/文章 |
| 数据 | 数据总览 | `/analytics` | 🟡 Mock 数据 | 数据统计和排行 |
| 记录 | 发布记录 | `/tasks` | ✅ 功能完成 | 发布任务状态追踪 |
| - | 登录 | `/login` | ✅ 功能完成 | 邮箱密码登录/注册 |

---

## 四、页面详细说明

### 4.1 登录页 `/login`

**功能**:
- 邮箱 + 密码登录
- 注册新账号（切换表单）
- Supabase Auth 集成

**当前 UI 截图**: `docs/screenshot-login.png`

**设计要点**:
- 居中卡片式布局
- 品牌 Logo + 名称 "MediaHub"
- 登录/注册两种状态切换
- 底部 ICP 备案信息

**当前问题**: 设计过于简陋，缺少品牌感和视觉层次

---

### 4.2 账号管理页 `/accounts`

**功能**:
- 显示已绑定的社交账号列表（卡片网格）
- 每个账号显示：头像、昵称、平台图标、状态（正常/已过期）
- 操作：添加账号、删除账号、刷新过期 Token
- 支持多平台：抖音、快手、小红书、B站、微信视频号、微博

**当前 UI 截图**: `docs/screenshot-mobile-accounts-v2.png`

**数据结构**:
```
账号卡片 {
  头像 (avatar_url)
  昵称 (username)
  平台图标 (platform: 'douyin' | 'kuaishou' | 'xiaohongshu' | ...)
  状态标签 (status: 'active' | 'expired')
  操作按钮: 刷新 | 删除
}
```

**设计要点**:
- 空状态：引导用户添加第一个账号
- 账号卡片需要清晰展示平台归属
- 过期账号需要醒目提示
- 添加账号：弹出平台选择（目前是下拉菜单）

**当前问题**: 整体布局单调，卡片设计需要更精致

---

### 4.3 发布页 `/publish` ⭐ 核心页面

**三步流程**:

#### Step 1: 选择内容类型
用户选择发布类型：
- 📹 发布视频
- 🖼️ 发布图文 (多图 + 文字)
- 📝 发布文章 (长文)

#### Step 2: 填写内容表单

**表单字段** (从上到下):

| 字段 | 组件 | 说明 |
|------|------|------|
| 草稿栏 | 横向滚动列表 | 显示已保存的草稿，可加载/删除 |
| 内容上传 | 拖拽上传区 | 视频: MP4/MOV 单个或批量; 图文: 多图选择 |
| 封面 | 图片选择器 | 自动截取或手动上传 |
| 标题 * | 输入框 + 字数统计 | 必填，有字数限制 |
| 描述 | 文本域 | 支持插入 #话题标签 |
| 话题 | 弹窗选择器 | 选择/搜索/新增话题 |
| 可见性 | 单选 | 公开 / 私密 / 草稿 |
| AI 内容 | 开关 | 标记是否为 AI 生成内容 |
| 选择账号 * | 多选列表 | 选择要发布到的账号，支持每个账号单独配置标题/描述 |
| 发布模式 | 切换 | 立即发布 / 定时发布（选择时间） |
| 分发模式 | 单选 | 批量时出现：广播模式(所有账号发所有视频) / 一对一(轮流分配) |

#### Step 3: 发布成功
- 显示发布结果
- 抖音: 提供打开抖音 App 完成发布的按钮
- 导航: 查看发布记录 / 继续发布

**当前 UI 截图**: `docs/screenshot-mobile-publish.png`

**设计要点**:
- 这是最复杂的页面，需要在移动端合理组织大量表单字段
- 草稿栏需要便捷访问但不占用太多空间
- 批量上传时需要清晰的预览和分发逻辑展示
- 每个账号的个性化配置需要良好的折叠/展开交互
- Step 指示器引导用户流程

**当前问题**: 功能堆叠严重，移动端体验需要大幅优化，信息层级不清晰

---

### 4.4 发布记录页 `/tasks`

**功能**:
- 列表展示所有发布任务
- 批量任务按 batch_id 分组，可展开/折叠
- 每条任务显示：标题、内容类型、创建时间、状态

**任务状态**:

| 状态 | 含义 | 视觉 |
|------|------|------|
| `pending_share` | 等待用户在抖音确认发布 | 橙色，附"打开抖音"按钮 |
| `scheduled` | 定时发布，等待执行 | 蓝色，附倒计时 + 取消按钮 |
| `publishing` | 正在发布中 | 蓝色脉动 |
| `completed` | 发布成功 | 绿色 |
| `failed` | 发布失败 | 红色，附错误信息 |
| `cancelled` | 已取消 | 灰色 |

**每个任务可展开查看**:
- 发布到的各个账号
- 每个账号的独立状态（成功/失败/进行中）
- 失败原因
- 已发布的链接

**标签系统**:
- 内容类型: 视频 / 图文 / 文章
- 可见性: 私密 / 草稿
- AI 内容标记

**当前 UI 截图**: `docs/screenshot-mobile-tasks.png`

**设计要点**:
- 列表需要信息密度和可读性的平衡
- 状态需要一目了然
- 批量任务的分组展示

**当前问题**: 空状态设计简陋，列表信息层级需要优化

---

### 4.5 视频管理页 `/videos`

**功能** (目前 Mock 数据):
- 展示已发布视频列表
- 每条视频：封面缩略图、标题、发布时间
- 数据指标：播放量、点赞数、评论数
- 筛选：全部 / 最近7天

**当前 UI 截图**: `docs/screenshot-mobile-videos.png`

**数据结构**:
```
视频卡片 {
  封面图 (cover_url)
  标题 (title)
  发布时间 (published_at)
  播放量 (views) — 大数展示如 "1.3w"
  点赞数 (likes)
  评论数 (comments)
}
```

**设计要点**:
- 视频列表是内容管理核心浏览界面
- 数据展示需要直观
- 支持筛选和排序

---

### 4.6 数据总览页 `/analytics`

**功能** (目前 Mock 数据):
- 顶部 4 个汇总卡片：总播放、总点赞、总评论、总分享
- 视频数据排行榜（近7天）
- 每条排行：排名、标题、播放/点赞/评论/分享、涨跌百分比

**当前 UI 截图**: `docs/screenshot-mobile-analytics.png`

**数据结构**:
```
汇总卡片 {
  总播放 (total_views)
  总点赞 (total_likes)
  总评论 (total_comments)
  总分享 (total_shares)
}

排行项 {
  排名 (rank: 1-N)
  视频标题 (title)
  播放量 / 点赞 / 评论 / 分享
  涨跌幅 (+12.3% / -3.2%)
}
```

**设计要点**:
- 数据卡片需要色彩区分
- 排行榜前三名视觉突出
- 涨跌用红/绿色标识
- 未来会增加趋势折线图

---

## 五、全局设计规范需求

### 5.1 品牌

| 属性 | 当前值 | 备注 |
|------|--------|------|
| 产品名 | MediaHub | 可以设计 Logo |
| 主色调 | 蓝色系 (#3B82F6) | 当前使用 Tailwind blue-500 |
| 语言 | 中文 | 所有界面中文 |

### 5.2 响应式断点

| 断点 | 宽度 | 优先级 |
|------|------|--------|
| 移动端 | 375px | ⭐ 最高 (主要使用场景) |
| 平板 | 768px | 中 |
| 桌面 | 1024px - 1440px | 低 |

### 5.3 组件清单

需要设计的通用组件：

| 组件 | 使用场景 |
|------|----------|
| 顶部导航栏 | 全局，品牌名 + 操作按钮 |
| 底部 Tab 栏 | 全局，5 个 Tab + 中间突出的发布按钮 |
| 账号卡片 | 账号管理页 |
| 视频列表项 | 视频管理页 |
| 数据卡片 | 数据总览页 |
| 排行列表项 | 数据总览页 |
| 任务卡片 | 发布记录页 |
| 状态标签 | 多处使用 (active/expired/success/failed 等) |
| 文件上传区 | 发布页 |
| 表单输入框 | 发布页 (标题/描述) |
| 话题标签 | 发布页 |
| 弹窗/Modal | 话题选择、批量预览、账号配置 |
| 空状态 | 各页面无数据时 |
| 加载状态 | 数据请求中 |
| Toast 提示 | 操作反馈 |

### 5.4 平台图标

需要包含以下社交平台的图标/品牌色：

| 平台 | 品牌色 | 用途 |
|------|--------|------|
| 抖音 (Douyin) | #000000 | 账号卡片、发布选择 |
| 快手 (Kuaishou) | #FF4906 | 账号卡片 |
| 小红书 (Xiaohongshu) | #FF2442 | 账号卡片 |
| B站 (Bilibili) | #00A1D6 | 账号卡片 |
| 微信视频号 (WeChat) | #07C160 | 账号卡片 |
| 微博 (Weibo) | #E6162D | 账号卡片 |

---

## 六、当前截图一览

所有截图位于 `docs/` 目录：

| 文件名 | 页面 |
|--------|------|
| `screenshot-login.png` | 登录页 |
| `screenshot-mobile-accounts-v2.png` | 账号管理 (移动端) |
| `screenshot-mobile-publish.png` | 发布页 (移动端) |
| `screenshot-mobile-tasks.png` | 发布记录 (移动端) |
| `screenshot-mobile-videos.png` | 视频管理 (移动端) |
| `screenshot-mobile-analytics.png` | 数据总览 (移动端) |

---

## 七、设计优化重点

### 高优先级
1. **发布页体验优化** — 表单字段多，移动端需要更好的信息分层和引导
2. **整体视觉风格统一** — 当前各页面风格松散，需要统一的设计语言
3. **品牌设计** — Logo、配色体系、图标风格
4. **空状态设计** — 各页面无数据时的引导页

### 中优先级
5. **账号卡片优化** — 更清晰的平台标识和状态展示
6. **数据可视化** — 数据页面的图表和排行设计
7. **交互动效** — 页面切换、状态变化的过渡动画

### 低优先级
8. **深色模式** — 未来可能增加
9. **桌面端适配** — 目前以移动端为主

---

## 八、后端 API 接口 (供参考)

| 方法 | 路径 | 说明 |
|------|------|------|
| POST | `/api/auth/{platform}` | 跳转平台 OAuth |
| GET | `/api/auth/{platform}/callback` | OAuth 回调 |
| GET | `/api/accounts` | 获取账号列表 |
| DELETE | `/api/accounts/{id}` | 删除账号 |
| POST | `/api/accounts/{id}/refresh` | 刷新 Token |
| POST | `/api/tasks` | 创建发布任务 |
| GET | `/api/tasks` | 获取任务列表 |
| GET | `/api/tasks/{id}` | 获取任务详情 |
| POST | `/api/tasks/{id}/cancel` | 取消任务 |
| POST | `/api/drafts` | 保存草稿 |
| GET | `/api/drafts` | 获取草稿列表 |
| PUT | `/api/drafts/{id}` | 更新草稿 |
| DELETE | `/api/drafts/{id}` | 删除草稿 |

---

## 九、数据库表结构 (供参考)

```
social_accounts    — 绑定的社交账号 (头像/昵称/平台/Token/状态)
publish_tasks      — 发布任务 (标题/描述/内容类型/视频URL/状态/定时)
task_accounts      — 每个任务对应的账号发布状态 (独立状态/错误信息/发布链接)
drafts             — 草稿 (与任务结构类似，未发布)
```

---

*文档结束 — 如有疑问请联系开发团队*
